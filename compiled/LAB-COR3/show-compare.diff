[edit]
+ groups {
+     OUT-OF-BAND-MANAGEMENT {
+         interfaces {
+             em0 {
+                 description "OOB MANAGEMENT INTERFACE --- DO NOT DELETE";
+                 unit 0 {
+                     family inet {
+                         address 192.168.1.13/24;
+                     }
+                 }
+             }
+         }
+         routing-options {
+             static {
+                 route 0.0.0.0/0 next-hop 192.168.1.237;
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-BGP {
+         protocols {
+             bgp {
+                 group <*> {
+                     type internal;
+                     family inet {
+                         unicast;
+                     }
+                     family inet-vpn {
+                         unicast;
+                     }
+                     family l2vpn {
+                         signaling;
+                     }
+                     family inet-mvpn {
+                         signaling;
+                     }
+                 }
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-MPLS {
+         protocols {
+             mpls {
+                 log-updown {
+                     syslog;
+                     trap;
+                     trap-path-down;
+                     trap-path-up;
+                 }
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-RSVP {
+         protocols {
+             rsvp {
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+                 interface <em*> {
+                     aggregate;
+                     reliable;
+                     subscription 60;
+                     link-protection;
+                 }
+                 interface lo0.0 {
+                     aggregate;
+                     reliable;
+                     link-protection;
+                 }
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-LDP {
+         protocols {
+             ldp {
+                 keepalive-timeout 180;
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+                 interface lo0.0;
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-ISIS {
+         protocols {
+             isis {
+                 reference-bandwidth 10g;
+                 traffic-engineering {
+                     family inet {
+                         shortcuts;
+                     }
+                     family inet6 {
+                         shortcuts;
+                     }
+                 }
+                 interface lo0.0 {
+                     passive;
+                 }
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+                 interface <em*> {
+                     point-to-point;
+                     node-link-protection;
+                     level 1 disable;
+                     level 2 hello-interval 60;
+                 }
+             }
+         }
+     }
+ }
+ apply-groups OUT-OF-BAND-MANAGEMENT;
[edit system]
-  host-name LAB-COR3_bootstrap;
+  host-name LAB-COR3;
+  syslog {
+      user * {
+          any emergency;
+      }
+      file messages {
+          any notice;
+          authorization info;
+      }
+      file interactive-commands {
+          interactive-commands any;
+      }
+  }
+  ntp {
+      boot-server 192.168.1.237;
+      server 192.168.1.237;
+  }
[edit interfaces]
-   em0 {
-       description "MANAGEMENT INTERFACE --- DO NOT DELETE";
-       unit 0 {
-           family inet {
-               address 192.168.1.13/24;
-           }
-       }
-   }
+   /* link_index: 20 | LAB-COR3 em1.0 169.254.0.21/31 --> 169.254.0.20/31 em4.0 LAB-COR1 */
+   em1 {
+       description "WAN | LAB-COR1 em4";
+       mtu 2000;
+       unit 0 {
+           family inet {
+               address 169.254.0.21/31;
+           }
+           family iso;
+           family mpls;
+       }
+   }
+   /* link_index: 26 | LAB-COR3 em2.0 169.254.0.26/31 --> 169.254.0.27/31 em2.0 LAB-COR4 */
+   em2 {
+       description "WAN | LAB-COR4 em2";
+       mtu 2000;
+       unit 0 {
+           family inet {
+               address 169.254.0.26/31;
+           }
+           family iso;
+           family mpls;
+       }
+   }
+   /* link_index: 8 | LAB-COR3 em3.0 169.254.0.9/31 --> 169.254.0.8/31 em1.0 LAB-PE3 */
+   em3 {
+       description "WAN | LAB-PE3 em1";
+       mtu 2000;
+       unit 0 {
+           family inet {
+               address 169.254.0.9/31;
+           }
+           family iso;
+           family mpls;
+       }
+   }
+   /* link_index: 14 | LAB-COR3 em4.0 169.254.0.15/31 --> 169.254.0.14/31 em2.0 LAB-PE4 */
+   em4 {
+       description "WAN | LAB-PE4 em2";
+       mtu 2000;
+       unit 0 {
+           family inet {
+               address 169.254.0.15/31;
+           }
+           family iso;
+           family mpls;
+       }
+   }
+   /* link_index: 22 | LAB-COR3 em5.0 169.254.0.23/31 --> 169.254.0.22/31 em5.0 LAB-COR2 */
+   em5 {
+       description "WAN | LAB-COR2 em5";
+       mtu 2000;
+       unit 0 {
+           family inet {
+               address 169.254.0.23/31;
+           }
+           family iso;
+           family mpls;
+       }
+   }
+   lo0 {
+       unit 0 {
+           description "PEERING INTERFACE --- DO NOT DELETE";
+           family inet {
+               address 10.1.1.13/32;
+           }
+           family iso {
+               address 49.0000.0172.0016.0013.00;
+           }
+       }
+   }
[edit routing-options]
-   static {
-       route 0.0.0.0/0 next-hop 192.168.1.237;
-   }
+   router-id 10.1.1.13;
+   autonomous-system 0.65535;
+   forwarding-table {
+       /* Best Practice: You must configure per-packet load-balancing routing policy when using ospf/isis node-link-protection */
+       export load-balancing-policy;
+   }
+   dynamic-tunnels {
+       dt-1 {
+           rsvp-te rsvp-te-1 {
+               label-switched-path-template {
+                   default-template;
+               }
+               destination-networks {
+                   10.1.1.0/24;
+               }
+           }
+       }
+   }
[edit]
+  protocols {
+      rsvp {
+          apply-groups PROTOCOL-DEFAULTS-RSVP;
+          interface em3.0;
+          interface em4.0;
+          interface em1.0;
+          interface em5.0;
+          interface em2.0;
+      }
+      mpls {
+          apply-groups PROTOCOL-DEFAULTS-MPLS;
+          interface em3.0;
+          interface em4.0;
+          interface em1.0;
+          interface em5.0;
+          interface em2.0;
+      }
+      bgp {
+          apply-groups PROTOCOL-DEFAULTS-BGP;
+          local-address 10.1.1.13;
+          group INTERNAL {
+              neighbor 10.1.1.11;
+              neighbor 10.1.1.12;
+          }
+      }
+      isis {
+          apply-groups PROTOCOL-DEFAULTS-ISIS;
+          export CORE-RP-EXPORT;
+          interface em1.0 {
+              level 2 metric 5;
+          }
+          interface em2.0 {
+              level 2 metric 5;
+          }
+          interface em3.0 {
+              level 2 metric 5;
+          }
+          interface em4.0 {
+              level 2 metric 5;
+          }
+          interface em5.0 {
+              level 2 metric 5;
+          }
+      }
+      ldp {
+          apply-groups PROTOCOL-DEFAULTS-LDP;
+          interface em1.0;
+          interface em2.0;
+          interface em3.0;
+          interface em4.0;
+          interface em5.0;
+      }
+      lldp {
+          interface all;
+      }
+  }
+  /* Best Practice: You must configure per-packet load-balancing routing policy when using ospf/isis node-link-protection */
+  policy-options {
+      policy-statement CORE-RP-EXPORT {
+          term PERMIT-LOOPBACKS {
+              from interface lo0.0;
+              then accept;
+          }
+          term BLOCK-FABRIC {
+              from protocol direct;
+              then reject;
+          }
+      }
+      policy-statement load-balancing-policy {
+          then {
+              load-balance per-packet;
+          }
+      }
+  }