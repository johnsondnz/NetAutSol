[edit]
+ groups {
+     OUT-OF-BAND-MANAGEMENT {
+         interfaces {
+             em0 {
+                 description "OOOB MANAGEMENT INTERFACE --- DO NOT DELETE";
+                 unit 0 {
+                     family inet {
+                         address 192.168.1.4/24;
+                     }
+                 }
+             }
+         }
+         routing-options {
+             static {
+                 route 0.0.0.0/0 next-hop 192.168.1.237;
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-MPLS {
+         protocols {
+             mpls {
+                 log-updown {
+                     syslog;
+                     trap;
+                     trap-path-down;
+                     trap-path-up;
+                 }
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-RSVP {
+         protocols {
+             rsvp {
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+                 interface <ge-*> {
+                     aggregate;
+                     reliable;
+                     subscription 60;
+                     link-protection;
+                 }
+                 interface <em*> {
+                     aggregate;
+                     reliable;
+                     subscription 60;
+                     link-protection;
+                 }
+                 interface lo0.0 {
+                     aggregate;
+                     reliable;
+                     link-protection;
+                 }
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-LDP {
+         protocols {
+             ldp {
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+                 interface lo0.0;
+             }
+         }
+     }
+     PROTOCOL-DEFAULTS-ISIS {
+         protocols {
+             isis {
+                 reference-bandwidth 10g;
+                 traffic-engineering {
+                     family inet {
+                         shortcuts;
+                     }
+                     family inet6 {
+                         shortcuts;
+                     }
+                 }
+                 interface lo0.0 {
+                     passive;
+                 }
+                 interface fxp0.0 {
+                     disable;
+                 }
+                 interface em0.0 {
+                     disable;
+                 }
+                 interface <em-*> {
+                     node-link-protection;
+                 }
+             }
+         }
+     }
+ }
+ apply-groups OUT-OF-BAND-MANAGEMENT;
[edit system]
-  host-name LAB-PE4_bootstrap;
+  host-name LAB-PE4;
+  syslog {
+      user * {
+          any emergency;
+      }
+      file messages {
+          any notice;
+          authorization info;
+      }
+      file interactive-commands {
+          interactive-commands any;
+      }
+  }
+  ntp {
+      boot-server 192.168.1.237;
+      server 192.168.1.237;
+  }
[edit interfaces]
-   em0 {
-       description "MANAGEMENT INTERFACE --- DO NOT DELETE";
-       unit 0 {
-           family inet {
-               address 192.168.1.4/24;
-           }
-       }
-   }
+   /* link_index: 12 | LAB-PE4 em1.0 169.254.0.12/31 --> 169.254.0.13/31 em3.0 LAB-COR4 */
+   em1 {
+       description "WAN | LAB-COR4 em3";
+       mtu 2000;
+       unit 0 {
+           family inet {
+               address 169.254.0.12/31;
+           }
+           family iso;
+           family mpls;
+       }
+   }
+   /* link_index: 14 | LAB-PE4 em2.0 169.254.0.14/31 --> 169.254.0.15/31 em4.0 LAB-COR3 */
+   em2 {
+       description "WAN | LAB-COR3 em4";
+       mtu 2000;
+       unit 0 {
+           family inet {
+               address 169.254.0.14/31;
+           }
+           family iso;
+           family mpls;
+       }
+   }
+   lo0 {
+       unit 0 {
+           description "PEERING INTERFACE --- DO NOT DELETE";
+           family inet {
+               address 10.1.1.4/32;
+           }
+           family iso {
+               address 49.0000.0172.0016.0004.00;
+           }
+       }
+   }
[edit routing-options]
-   static {
-       route 0.0.0.0/0 next-hop 192.168.1.237;
-   }
+   router-id 10.1.1.4;
+   autonomous-system 0.65535;
+   forwarding-table {
+       /* Best Practice: You must configure per-packet load-balancing routing policy when using ospf/isis node-link-protection */
+       export load-balancing-policy;
+   }
+   dynamic-tunnels {
+       dt-1 {
+           rsvp-te rsvp-te-1 {
+               label-switched-path-template {
+                   default-template;
+               }
+               destination-networks {
+                   10.1.1.0/24;
+               }
+           }
+       }
+   }
[edit]
+  protocols {
+      rsvp {
+          apply-groups PROTOCOL-DEFAULTS-RSVP;
+          interface em1.0;
+          interface em2.0;
+      }
+      mpls {
+          apply-groups PROTOCOL-DEFAULTS-MPLS;
+          interface em1.0;
+          interface em2.0;
+      }
+      isis {
+          apply-groups PROTOCOL-DEFAULTS-ISIS;
+          interface em1.0 {
+              point-to-point;
+              level 1 disable;
+              level 2 {
+                  metric 10;
+                  hello-interval 60;
+              }
+          }
+          interface em2.0 {
+              point-to-point;
+              level 1 disable;
+              level 2 {
+                  metric 10;
+                  hello-interval 60;
+              }
+          }
+      }
+      ldp {
+          apply-groups PROTOCOL-DEFAULTS-LDP;
+          keepalive-timeout 180;
+          interface em1.0;
+          interface em2.0;
+      }
+      lldp {
+          interface all;
+      }
+  }
+  /* Best Practice: You must configure per-packet load-balancing routing policy when using ospf/isis node-link-protection */
+  policy-options {
+      policy-statement load-balancing-policy {
+          then {
+              load-balance per-packet;
+          }
+      }
+  }